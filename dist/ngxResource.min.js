/*! ngxResource - v0.1.0 - 2013-02-11
* Copyright (c) 2013 Cezar Berea <berea.cezar@gmail.com>; Licensed MIT */
"use strict";angular.module("ngxResource",["ng","ngxRoute","ngxInterceptors"]).provider("$resource",function(){this.config={actions:{get:{method:"GET"},update:{method:"PUT"},create:{method:"POST"},save:{method:"POST"},query:{method:"GET"},remove:{method:"DELETE"}},headers:{},serializers:[],deserializers:[]},this.$get=["$http","$parse","$injector","Route",function(e,t,n,r){function c(e){var t={},n=Array.prototype.slice.call(arguments,1);return n.unshift({}),n=i.apply(angular,n),angular.forEach(n,function(n,r){o(n)&&(n=n()),t[r]=n.charAt&&n.charAt(0)=="@"?l(e,n.substr(1)):n}),t}function h(e,t,r){return angular.forEach(e,function(e){var i=angular.isString(e)?n.get(e):n.invoke(e);t=i(t,r)}),t}function p(e,t,n){return e.then(function(e){e.originalData=e.data,e=h(t.config.deserializers,e,t.config);var r,s=e.data;return a(s)?(r=[],angular.forEach(s,function(e){r.push(new t(e))})):f(s)?n?(r=n,i(n,s)):r=new t(s):r=s,r})}function v(t){function l(e){s(e||{},this)}var n=t.url||t,o=new r(n),a=i({},d.actions,t.actions||{}),f=t.params||{};return u(t.actions)&&(t.actions=i({},d.actions,t.actions)),u(t.extraHeaders)&&(t.headers=i(t.headers||{},d.headers,t.extraHeaders)),l.config=i({},d,t),angular.forEach(a,function(t,n){t.method=angular.uppercase(t.method);var r=typeof t.body!="undefined"?t.body:t.method=="POST"||t.method=="PUT";l[n]=function(n,r){r=r||{},n=c(r,f,t.params||{},n||{});var s=o.url(n),u=this,a;return a=e({method:t.method,url:s,data:r,headers:i({},t.headers||{})}),p(a,l,null).then(function(e){return i(u,e),e})},l.prototype["$"+n]=function(n){n=c(this,f,n||{});var s=o.url(n),u,a;return r&&(u=h(l.config.serializers,this,l.config)),a=e({method:t.method,url:s,data:u,headers:i({},t.headers||{})}),p(a,l,this)}}),l}var i=angular.extend,s=angular.copy,o=angular.isFunction,u=angular.isDefined,a=angular.isArray,f=angular.isObject,l=function(e,n){return t(n)(e)},d=this.config;return v}]});